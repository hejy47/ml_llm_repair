{"com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased": {"buggy_content": "@Override\n@SuppressWarnings(\"resource\")\nprotected Object _deserializeUsingPropertyBased(final JsonParser p, final DeserializationContext ctxt) throws IOException {\n    final PropertyBasedCreator creator = _propertyBasedCreator;\n    PropertyValueBuffer buffer = creator.startBuilding(p, ctxt, _objectIdReader);\n    TokenBuffer unknown = null;\n    JsonToken t = p.getCurrentToken();\n    for (; t == JsonToken.FIELD_NAME; t = p.nextToken()) {\n        String propName = p.getCurrentName();\n        // to point to value\n        p.nextToken();\n        // creator property?\n        SettableBeanProperty creatorProp = creator.findCreatorProperty(propName);\n        if (creatorProp != null) {\n            // Last creator property to set?\n            if (buffer.assignParameter(creatorProp, _deserializeWithErrorWrapping(p, ctxt, creatorProp))) {\n                // to move to following FIELD_NAME/END_OBJECT\n                p.nextToken();\n                Object bean;\n                try {\n                    bean = creator.build(ctxt, buffer);\n                } catch (Exception e) {\n                    bean = wrapInstantiationProblem(e, ctxt);\n                }\n                if (bean == null) {\n                    return ctxt.handleInstantiationProblem(handledType(), null, _creatorReturnedNullException());\n                }\n                // [databind#631]: Assign current value, to be accessible by custom serializers\n                p.setCurrentValue(bean);\n                //  polymorphic?\n                if (bean.getClass() != _beanType.getRawClass()) {\n                    return handlePolymorphic(p, ctxt, bean, unknown);\n                }\n                if (unknown != null) {\n                    // nope, just extra unknown stuff...\n                    bean = handleUnknownProperties(ctxt, bean, unknown);\n                }\n                // or just clean?\n                return deserialize(p, ctxt, bean);\n            }\n            continue;\n        }\n        // Object Id property?\n        if (buffer.readIdProperty(propName)) {\n            continue;\n        }\n        // regular property? needs buffering\n        SettableBeanProperty prop = _beanProperties.find(propName);\n        if (prop != null) {\n            buffer.bufferProperty(prop, _deserializeWithErrorWrapping(p, ctxt, prop));\n            // 14-Jun-2016, tatu: As per [databind#1261], looks like we need additional\n            //    handling of forward references here. Not exactly sure why existing\n            //    facilities did not cover, but this does appear to solve the problem\n            continue;\n        }\n        // Things marked as ignorable should not be passed to any setter\n        if (_ignorableProps != null && _ignorableProps.contains(propName)) {\n            handleIgnoredProperty(p, ctxt, handledType(), propName);\n            continue;\n        }\n        // \"any property\"?\n        if (_anySetter != null) {\n            try {\n                buffer.bufferAnyProperty(_anySetter, propName, _anySetter.deserialize(p, ctxt));\n            } catch (Exception e) {\n                wrapAndThrow(e, _beanType.getRawClass(), propName, ctxt);\n            }\n            continue;\n        }\n        // Ok then, let's collect the whole field; name and value\n        if (unknown == null) {\n            unknown = new TokenBuffer(p, ctxt);\n        }\n        unknown.writeFieldName(propName);\n        unknown.copyCurrentStructure(p);\n    }\n    // We hit END_OBJECT, so:\n    Object bean;\n    try {\n        bean = creator.build(ctxt, buffer);\n    } catch (Exception e) {\n        wrapInstantiationProblem(e, ctxt);\n        // never gets here\n        bean = null;\n    }\n    if (unknown != null) {\n        // polymorphic?\n        if (bean.getClass() != _beanType.getRawClass()) {\n            return handlePolymorphic(null, ctxt, bean, unknown);\n        }\n        // no, just some extra unknown properties\n        return handleUnknownProperties(ctxt, bean, unknown);\n    }\n    return bean;\n}", "method_range": "376-474", "fault_locations": "386,387,428,429,430,432,433,464,465"}}