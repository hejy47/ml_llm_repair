{"org.apache.commons.jxpath.ri.model.dom.DOMAttributeIterator.getAttribute": {"buggy_content": "private Attr getAttribute(Element element, QName name) {\n    String testPrefix = name.getPrefix();\n    String testNS = null;\n    if (testPrefix != null) {\n        testNS = parent.getNamespaceURI(testPrefix);\n    }\n    if (testNS != null) {\n        Attr attr = element.getAttributeNodeNS(testNS, name.getName());\n        if (attr != null) {\n            return attr;\n        }\n        // This may mean that the parser does not support NS for\n        // attributes, example - the version of Crimson bundled\n        // with JDK 1.4.0\n        NamedNodeMap nnm = element.getAttributes();\n        for (int i = 0; i < nnm.getLength(); i++) {\n            attr = (Attr) nnm.item(i);\n            if (testAttr(attr, name)) {\n                return attr;\n            }\n        }\n        return null;\n    }\n    return element.getAttributeNode(name.getName());\n}", "method_range": "106-133", "fault_locations": "111"}, "org.apache.commons.jxpath.ri.model.jdom.JDOMAttributeIterator.JDOMAttributeIterator": {"buggy_content": "public JDOMAttributeIterator(NodePointer parent, QName name) {\n    this.parent = parent;\n    if (parent.getNode() instanceof Element) {\n        Element element = (Element) parent.getNode();\n        String prefix = name.getPrefix();\n        Namespace ns = null;\n        if (prefix != null) {\n            if (prefix.equals(\"xml\")) {\n                ns = Namespace.XML_NAMESPACE;\n            } else {\n                ns = element.getNamespace(prefix);\n                if (ns == null) {\n                    // TBD: no attributes\n                    attributes = Collections.EMPTY_LIST;\n                    return;\n                }\n            }\n        } else {\n            ns = Namespace.NO_NAMESPACE;\n        }\n        String lname = name.getName();\n        if (!lname.equals(\"*\")) {\n            attributes = new ArrayList();\n            if (ns != null) {\n                Attribute attr = element.getAttribute(lname, ns);\n                if (attr != null) {\n                    attributes.add(attr);\n                }\n            }\n        } else {\n            attributes = new ArrayList();\n            List allAttributes = element.getAttributes();\n            for (int i = 0; i < allAttributes.size(); i++) {\n                Attribute attr = (Attribute) allAttributes.get(i);\n                if (attr.getNamespace().equals(ns)) {\n                    attributes.add(attr);\n                }\n            }\n        }\n    }\n}", "method_range": "41-85", "fault_locations": "51,52,57,58"}}