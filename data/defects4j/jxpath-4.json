{"org.apache.commons.jxpath.ri.model.dom.DOMNodePointer.getLanguage": {"buggy_content": "protected String getLanguage() {\n    Node n = node;\n    while (n != null) {\n        if (n.getNodeType() == Node.ELEMENT_NODE) {\n            Element e = (Element) n;\n            String attr = e.getAttribute(\"xml:lang\");\n            if (attr != null && !attr.equals(\"\")) {\n                return attr;\n            }\n        }\n        n = n.getParentNode();\n    }\n    return null;\n}", "method_range": "296-309", "fault_locations": "296,297,298,299,301,307,308"}, "org.apache.commons.jxpath.ri.model.dom.DOMNodePointer.getNamespaceURI": {"buggy_content": "public static String getNamespaceURI(Node node) {\n    if (node instanceof Document) {\n        node = ((Document) node).getDocumentElement();\n    }\n    Element element = (Element) node;\n    String uri = element.getNamespaceURI();\n    if (uri != null) {\n        return uri;\n    }\n    String prefix = getPrefix(node);\n    String qname = prefix == null ? \"xmlns\" : \"xmlns:\" + prefix;\n    Node aNode = node;\n    while (aNode != null) {\n        if (aNode.getNodeType() == Node.ELEMENT_NODE) {\n            Attr attr = ((Element) aNode).getAttributeNode(qname);\n            if (attr != null) {\n                return attr.getValue();\n            }\n        }\n        aNode = aNode.getParentNode();\n    }\n    return null;\n}", "method_range": "603-629", "fault_locations": "628,629"}, "org.apache.commons.jxpath.ri.model.dom.DOMNodePointer.stringValue": {"buggy_content": "private String stringValue(Node node) {\n    int nodeType = node.getNodeType();\n    if (nodeType == Node.COMMENT_NODE) {\n        String text = ((Comment) node).getData();\n        return text == null ? \"\" : text.trim();\n    }\n    if (nodeType == Node.TEXT_NODE || nodeType == Node.CDATA_SECTION_NODE) {\n        String text = node.getNodeValue();\n        return text == null ? \"\" : text.trim();\n    }\n    if (nodeType == Node.PROCESSING_INSTRUCTION_NODE) {\n        String text = ((ProcessingInstruction) node).getData();\n        return text == null ? \"\" : text.trim();\n    }\n    NodeList list = node.getChildNodes();\n    StringBuffer buf = new StringBuffer(16);\n    for (int i = 0; i < list.getLength(); i++) {\n        Node child = list.item(i);\n        if (child.getNodeType() == Node.TEXT_NODE) {\n            buf.append(child.getNodeValue());\n        } else {\n            buf.append(stringValue(child));\n        }\n    }\n    return buf.toString().trim();\n}", "method_range": "635-661", "fault_locations": "635,636,638,639,640,641,643,647,648,653,654,655,656,658,660"}, "org.apache.commons.jxpath.ri.model.jdom.JDOMNodePointer.getValue": {"buggy_content": "public Object getValue() {\n    if (node instanceof Element) {\n        return ((Element) node).getTextTrim();\n    }\n    if (node instanceof Comment) {\n        String text = ((Comment) node).getText();\n        if (text != null) {\n            text = text.trim();\n        }\n        return text;\n    }\n    if (node instanceof Text) {\n        return ((Text) node).getTextTrim();\n    }\n    if (node instanceof CDATA) {\n        return ((CDATA) node).getTextTrim();\n    }\n    if (node instanceof ProcessingInstruction) {\n        String text = ((ProcessingInstruction) node).getData();\n        if (text != null) {\n            text = text.trim();\n        }\n        return text;\n    }\n    return null;\n}", "method_range": "238-263", "fault_locations": "240,247,248,249,250,251,252,253,256,257,258,259,260,262"}, "org.apache.commons.jxpath.ri.model.jdom.JDOMNodePointer.getLanguage": {"buggy_content": "protected String getLanguage() {\n    Object n = node;\n    while (n != null) {\n        if (n instanceof Element) {\n            Element e = (Element) n;\n            String attr = e.getAttributeValue(\"lang\", Namespace.XML_NAMESPACE);\n            if (attr != null && !attr.equals(\"\")) {\n                return attr;\n            }\n        }\n        n = nodeParent(n);\n    }\n    return null;\n}", "method_range": "435-449", "fault_locations": "436,440,441"}, "org.apache.commons.jxpath.ri.model.jdom.JDOMNodePointer.equals": {"buggy_content": "public boolean equals(Object object) {\n    if (object == this) {\n        return true;\n    }\n    if (!(object instanceof JDOMNodePointer)) {\n        return false;\n    }\n    JDOMNodePointer other = (JDOMNodePointer) object;\n    return node == other.node;\n}", "method_range": "733-744", "fault_locations": "741,742"}}