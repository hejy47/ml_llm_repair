{"org.joda.time.format.PeriodFormatterBuilder.calculatePrintedLength": {"buggy_content": "public int calculatePrintedLength(ReadablePeriod period, Locale locale) {\n    long valueLong = getFieldValue(period);\n    if (valueLong == Long.MAX_VALUE) {\n        return 0;\n    }\n    int sum = Math.max(FormatUtils.calculateDigitCount(valueLong), iMinPrintedDigits);\n    if (iFieldType >= SECONDS_MILLIS) {\n        // valueLong contains the seconds and millis fields\n        // the minimum output is 0.000, which is 4 or 5 digits with a negative\n        sum = Math.max(sum, 4);\n        // plus one for the decimal point\n        sum++;\n        if (iFieldType == SECONDS_OPTIONAL_MILLIS && (Math.abs(valueLong) % DateTimeConstants.MILLIS_PER_SECOND) == 0) {\n            // remove three digits and decimal point\n            sum -= 4;\n        }\n        // reset valueLong to refer to the seconds part for the prefic/suffix calculation\n        valueLong = valueLong / DateTimeConstants.MILLIS_PER_SECOND;\n    }\n    int value = (int) valueLong;\n    if (iPrefix != null) {\n        sum += iPrefix.calculatePrintedLength(value);\n    }\n    if (iSuffix != null) {\n        sum += iSuffix.calculatePrintedLength(value);\n    }\n    return sum;\n}", "method_range": "1088-1118", "fault_locations": "1098"}, "org.joda.time.format.PeriodFormatterBuilder.printTo": {"buggy_content": "public void printTo(StringBuffer buf, ReadablePeriod period, Locale locale) {\n    long valueLong = getFieldValue(period);\n    if (valueLong == Long.MAX_VALUE) {\n        return;\n    }\n    int value = (int) valueLong;\n    if (iFieldType >= SECONDS_MILLIS) {\n        value = (int) (valueLong / DateTimeConstants.MILLIS_PER_SECOND);\n    }\n    if (iPrefix != null) {\n        iPrefix.printTo(buf, value);\n    }\n    int minDigits = iMinPrintedDigits;\n    if (minDigits <= 1) {\n        FormatUtils.appendUnpaddedInteger(buf, value);\n    } else {\n        FormatUtils.appendPaddedInteger(buf, value, minDigits);\n    }\n    if (iFieldType >= SECONDS_MILLIS) {\n        int dp = (int) (Math.abs(valueLong) % DateTimeConstants.MILLIS_PER_SECOND);\n        if (iFieldType == SECONDS_MILLIS || dp > 0) {\n            buf.append('.');\n            FormatUtils.appendPaddedInteger(buf, dp, 3);\n        }\n    }\n    if (iSuffix != null) {\n        iSuffix.printTo(buf, value);\n    }\n}", "method_range": "1120-1149", "fault_locations": "1131,1132,1140,1141"}}