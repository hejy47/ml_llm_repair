{"org.mockito.internal.stubbing.defaultanswers.ReturnsDeepStubs.answer": {"buggy_content": "public Object answer(InvocationOnMock invocation) throws Throwable {\n    GenericMetadataSupport returnTypeGenericMetadata = actualParameterizedType(invocation.getMock()).resolveGenericReturnType(invocation.getMethod());\n    Class<?> rawType = returnTypeGenericMetadata.rawType();\n    if (!new MockCreationValidator().isTypeMockable(rawType)) {\n        return delegate.returnValueFor(rawType);\n    }\n    return getMock(invocation);\n}", "method_range": "44-54", "fault_locations": "53,54"}, "org.mockito.internal.stubbing.defaultanswers.ReturnsDeepStubs.getMock": {"buggy_content": "private Object getMock(InvocationOnMock invocation) throws Throwable {\n    InternalMockHandler<Object> handler = new MockUtil().getMockHandler(invocation.getMock());\n    InvocationContainerImpl container = (InvocationContainerImpl) handler.getInvocationContainer();\n    // matches invocation for verification\n    for (StubbedInvocationMatcher stubbedInvocationMatcher : container.getStubbedInvocations()) {\n        if (container.getInvocationForStubbing().matches(stubbedInvocationMatcher.getInvocation())) {\n            return stubbedInvocationMatcher.answer(invocation);\n        }\n    }\n    // deep stub\n    return recordDeepStubMock(invocation, container);\n}", "method_range": "56-69", "fault_locations": "56,65,66,68"}, "org.mockito.internal.stubbing.defaultanswers.ReturnsDeepStubs.recordDeepStubMock": {"buggy_content": "/**\n * Creates a mock using the Generics Metadata.\n *\n * @param returnTypeGenericMetadata The metadata to use to create the new mock.\n * @return The mock\n */\nprivate Object recordDeepStubMock(InvocationOnMock invocation, InvocationContainerImpl container) {\n    Class<?> clz = invocation.getMethod().getReturnType();\n    final Object mock = org.mockito.Mockito.mock(clz, this);\n    container.addAnswer(new Answer<Object>() {\n\n        public Object answer(InvocationOnMock invocation) throws Throwable {\n            return mock;\n        }\n    }, false);\n    return mock;\n}", "method_range": "81-92", "fault_locations": "81,82,83"}}